{"version":3,"sources":["webpack:///./src/pages/downloads.js","webpack:///./src/components/Downloads.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/_string-html.js"],"names":["Fragment","getFileType","file","split","reverse","getOsType","formateDate","date","Date","toLocaleDateString","weekday","year","month","day","dataStructure","asset","os","name","link","browser_download_url","fileType","Downloads","state","publishedAt","latestVersion","downloads","renderDownloads","reduce","acc","download","push","key","href","componentDidMount","sessionStorage","getItem","latest","JSON","parse","assets","map","filter","this","setState","published_at","fetch","then","response","json","data","setItem","stringify","render","className","Component","createHTML","url","$export","fails","defined","quot","string","tag","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","toLowerCase","length"],"mappings":"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","file":"component---src-pages-downloads-js-7cc5d56a106d159338a2.js","sourcesContent":["import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport Header from 'components/header';\nimport Footer from 'components/footer';\nimport Downloads from 'components/Downloads';\n\nexport default () => (\n  <React.Fragment>\n    <Helmet>\n      <title>Downloads</title>\n    </Helmet>\n    <Header/>\n\n    <h1>Downloads</h1>\n\n    <Downloads/>\n\n    <Footer/>\n  </React.Fragment>\n);\n","import React, { Component } from 'react';\n\nfunction getFileType(file) {\n    return file.split('.')\n        .reverse()[0];\n}\n\nfunction getOsType(file) {\n    const fileExtension = getFileType(file);\n\n    switch (fileExtension) {\n        case 'snap':\n        case 'AppImage':\n        case 'deb':\n        case 'rpm':\n        case 'pacman': {\n            return 'linux';\n        }\n\n        case 'dmg':\n        case 'zip': {\n            return 'mac';\n        }\n\n        case 'exe': {\n            return 'windows';\n        }\n\n        default:\n            return 'unknown';\n    }\n}\n\nfunction formateDate(date) {\n    const options = {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n    };\n    const published = new Date(date);\n\n    return published.toLocaleDateString('en-US', options);\n}\n\nfunction dataStructure(asset) {\n    return {\n        os: getOsType(asset.name),\n        link: asset.browser_download_url,\n        fileType: getFileType(asset.name)\n    };\n}\n\nclass Downloads extends Component {\n    state = {\n        publishedAt: null,\n        latestVersion: null,\n        downloads: null\n    };\n\n    componentDidMount() {\n        if (!sessionStorage.getItem('gistoReleases')) {\n            fetch('https://api.github.com/repos/Gisto/Gisto/releases/latest')\n                .then((response) => response.json())\n                .then((data) => {\n                    sessionStorage.setItem('gistoReleases', JSON.stringify(data));\n                    const latest = data;\n                    const downloads = latest.assets.map((asset) => {\n                        return dataStructure(asset);\n                    })\n                        .filter((os) => {\n                            return os !== 'unknown';\n                        });\n\n                    this.setState({\n                        publishedAt: formateDate(latest.published_at),\n                        latestVersion: `v${latest.name}`,\n                        downloads\n                    });\n                });\n        } else {\n            const latest = JSON.parse(sessionStorage.getItem('gistoReleases'));\n            const downloads = latest.assets.map((asset) => {\n                return dataStructure(asset);\n            })\n                .filter((os) => {\n                    return os !== 'unknown';\n                });\n\n            this.setState({\n                publishedAt: formateDate(latest.published_at),\n                latestVersion: `v${latest.name}`,\n                downloads\n            });\n        }\n    }\n\n    renderDownloads = (os) => {\n        return this.state.downloads && this.state.downloads.reduce((acc, download) => {\n            if (download.os === os) {\n                acc.push(\n                  <a key={ download.fileType } href={ download.link }>\n                    <b>{download.fileType}</b>\n                  </a>\n                );\n            }\n\n            return acc;\n        }, []);\n    };\n\n    render() {\n        return (\n          <section className=\"whiter boxes inner\">\n\n            <div className=\"w-container\">\n\n              <p className=\"txt-grey txt-center\"><b>LATEST VERSION:</b>\n                        &nbsp;\n                <span className=\"latest-release-version\">{this.state.latestVersion}</span> |\n                <a href=\"https://github.com/Gisto/Gisto/blob/master/CHANGELOG.md\"\n                           className=\"txt-red txt-underline\">Change log\n                </a>\n                        | <b>RELEASED:</b> <span\n                            className=\"published_at\">{this.state.publishedAt}\n                        </span>\n              </p>\n              <br/>\n\n              <div className=\"w-container\">\n\n                <div className=\"w-row\">\n\n                  <div className=\"download w-col w-col-3 w-clearfix txt-center\">\n                    <p className=\"txt-center\"><i className=\"fa fa-windows fa-4x\"/></p>\n\n                    <h3><b>Windows</b><br/>Download</h3>\n                    <span>{ this.renderDownloads('windows') }</span>\n                  </div>\n\n                  <div className=\"download w-col w-col-3 w-clearfix txt-center\">\n                    <p className=\"txt-center\"><i className=\"fa fa-apple fa-4x\"/></p>\n\n                    <h3><b>macOS</b><br/>Download</h3>\n                    <span>{ this.renderDownloads('mac') }</span>\n                  </div>\n\n                  <div className=\"download w-col w-col-3 w-clearfix txt-center\">\n                    <p className=\"txt-center\"><i className=\"fa fa-linux fa-4x\"/></p>\n\n                    <h3><b>Linux</b><br/>Download</h3>\n                    <span>{ this.renderDownloads('linux') }</span>\n                  </div>\n\n                  <div className=\"download w-col w-col-3 w-clearfix txt-center\">\n                    <p className=\"txt-center\"><i className=\"fa fa-cogs fa-4x\"/></p>\n\n                    <h3>Latest<br/> <b>from Github</b></h3>\n                    <a href=\"https://github.com/Gisto/Gisto/releases\">GitHub releases</a>\n                  </div>\n\n                </div>\n\n                <div className=\"w-container\">\n                  <div className=\"w-row\">\n                    <div className=\"w-col w-col-pull-1 w-col-push-3 w-col-6 \">\n                      <h2>Other install options:</h2>\n\n                      <div>\n                        <p>via <b>Homebrew cask</b> (MacOS):</p>\n\n                        <pre><span>SHELL</span>$ brew cask install gisto</pre>\n                        <small>Please note that it might be slightly outdated\n                                            version\n                        </small>\n                        <br/>\n                        <br/>\n                      </div>\n\n<div>\n                        <p>via <b>snapcraft</b> (Linux):</p>\n\n                        <pre><span>SHELL</span>$ sudo snap install gisto</pre>\n                        <small>Install Gisto on your Linux distribution: <a href=\"https://snapcraft.io/gisto\">https://snapcraft.io/gisto</a></small>\n                        <br/>\n                        <br/>\n                      </div>\n\n                      <div>\n                        <p>via <b>AUR</b> (ArchLinux):</p>\n\n                        <pre><span>SHELL (using yay)</span>$ yay -S gisto</pre>\n                        <pre><span>SHELL (using pakku)</span>$ pakku -S gisto</pre>\n                        <pre><span>SHELL (using trizen)</span>$ trizen -S gisto</pre>\n\n                        <small>Please note that it might be slightly outdated\n                          version\n                        </small>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"w-row\">\n\n                  <p className=\"txt-grey txt-center\"><b>PREVIOUS VERSION:</b> 0.3.2</p>\n                  <br/>\n                  <div className=\"w-col w-col-12 w-clearfix txt-center\">\n                    <p>Development of this version is stopped at \"v0.3.2\" and it should\n                                    be\n                                    considered obsolete. No updates, features\n                                    or bugfixes will be issued.\n                    </p>\n                  </div>\n                  <div className=\"download w-col w-col-12 w-clearfix txt-center\">\n                    <a href=\"https://github.com/Gisto/Gisto/releases/download/0.3.2-beta/Gisto-v0.3.2-windows-x64.zip\">\n                      <i className=\"fa fa-windows\"/> Windows\n                    </a>\n                    <a href=\"https://github.com/Gisto/Gisto/releases/download/0.3.2-beta/Gisto-v0.3.2-macos-x64.dmg\">\n                      <i className=\"fa fa-apple\"/> MACOS\n                    </a>\n                    <a href=\"https://github.com/Gisto/Gisto/releases/download/0.3.2-beta/Gisto-v0.3.2-linux-win32.zip\">\n                      <i className=\"fa fa-linux\"/> Linux 32bit\n                    </a>\n                    <a href=\"https://github.com/Gisto/Gisto/releases/download/0.3.2-beta/Gisto-v0.3.2-linux-x64.zip\">\n                      <i className=\"fa fa-linux\"/> Linux 64bit\n                    </a>\n                  </div>\n\n                </div>\n\n\n              </div>\n            </div>\n          </section>\n        );\n    }\n}\n\nexport default Downloads;\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n"],"sourceRoot":""}